<!-- home.component.html -->
<div class="map-container">
    <!-- Ligne 1 -->
    <div class="line line1">
        <div *ngFor="let station of appService.metroLine1; let i = index"
             [ngClass]="{
                 'station': true,
                 'station-medium-ink': getStationInkStatus(station) === 'medium',
                 'station-critical-ink': getStationInkStatus(station) === 'critical'
             }"
             (click)="onSelectStation(station)"
             [style.left]="getStationPosition(i, appService.metroLine1.length)"
             [attr.data-name]="station.name">
        </div>
    </div>

    <!-- Ligne 2A -->
    <div class="line line2 line2A">
        <div *ngFor="let station of appService.metroLine2A; let i = index"
             [ngClass]="{
                 'station': true,
                 'station-medium-ink': getStationInkStatus(station) === 'medium',
                 'station-critical-ink': getStationInkStatus(station) === 'critical'
             }"             (click)="onSelectStation(station)"
             [style.left]="getStationPosition(i, appService.metroLine2A.length)"
             [attr.data-name]="station.name">
        </div>
    </div>

    <!-- Ligne 2B -->
    <div class="line line2 line2B">
        <div *ngFor="let station of appService.metroLine2B; let i = index"
             [ngClass]="{
                 'station': true,
                 'station-medium-ink': getStationInkStatus(station) === 'medium',
                 'station-critical-ink': getStationInkStatus(station) === 'critical'
             }"             (click)="onSelectStation(station)"
             [style.left]="getStationPosition(i, appService.metroLine2B.length)"
             [attr.data-name]="station.name">
        </div>
    </div>
</div>

<div class="agents-container">
    <div *ngFor="let agent of agents; let i = index" class="agent">
        <img [src]="agent.photoUrl" alt="Photo de l'agent">
        <p>{{ agent.name }}</p>
        <button (click)="onSelectAgent(agent)">Assigner</button>
    </div>
</div>

<app-agents class="agents-popup" [ngClass]="showAgents" (click)="toggleAgents()" (close)="showAgents = 'hidden'" [selectedAgent]="selectedAgent"></app-agents>